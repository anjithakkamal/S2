CREATE TABLE CUSTOMER
 (
CUST_ID INT PRIMARY KEY,
CUST_NAME VARCHAR(20) NOT NULL
);
DESCRIBE CUSTOMER;
CREATE TABLE ITEM
  (
  ITEM_ID INT PRIMARY KEY,
  ITEM_NAME VARCHAR(25), 
  PRICE INT
  );
  DESCRIBE ITEM;
CREATE TABLE SALE
	(
    BILL_NO   INT PRIMARY KEY,
    BILL_DATE DATE NOT NULL,
    CUST_ID   INT NOT NULL, 
    ITEM_ID   INT NOT NULL, 
    QTY_SOLD  NUMERIC(6,3) NOT NULL,
	FOREIGN KEY(ITEM_ID) 
    REFERENCES ITEM(ITEM_ID),    
    FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER(CUST_ID)   
	);
    DESCRIBE SALE;
INSERT INTO CUSTOMER(CUST_ID,CUST_NAME) VALUES( 1, 'Rekha'),( 2, 'Rani'),( 3, 'Rocky'),( 4, 'Xin'),( 5, 'Kim');
SELECT * FROM CUSTOMER;
INSERT INTO ITEM(ITEM_ID,ITEM_NAME,PRICE) VALUES( 1,'Rusk',120),( 2,'Banana',50),(3,'Sanitizer',60),( 4,'Cake',420),(5,'Laddu',25);
SELECT * FROM ITEM;
INSERT INTO SALE(BILL_NO,BILL_DATE,CUST_ID,ITEM_ID,QTY_SOLD) VALUES ( 10, '2020-10-01', 1, 1, 3), ( 11, '2020-10-01', 1, 3, 2),
( 12, '2020-10-01', 1, 5, 7),( 13, '2018-10-01', 4, 4, 1),( 14, '2018-10-11', 4, 2, 2),( 15, '2018-09-29', 5, 1, 5),
( 16, '2019-12-25', 3, 1, 5),( 17, '1995-06-21', 5, 4, 4),( 18,'2002-04-01', 4, 5, 5),( 19, '2020-02-12', 1, 2, 1);
SELECT *FROM SALE;
SELECT *FROM CUSTOMER,ITEM,SALE WHERE PRICE > 200 AND SALE.ITEM_ID = ITEM.ITEM_ID AND SALE.CUST_ID = CUSTOMER.CUST_ID;

SELECT C.CUST_ID,CUST_NAME,SC.COUNT,SC.BILL_DATE FROM CUSTOMER C,
(SELECT COUNT(ITEM_ID) AS COUNT,BILL_DATE,CUST_ID FROM SALE GROUP BY bill_date) SC WHERE C.CUST_ID=SC.CUST_ID;

SELECT CUST_NAME,  COUNT(ITEM_ID), BILL_DATE  FROM CUSTOMER C,  SALE S WHERE C.CUST_ID = S.CUST_ID
 GROUP BY CUST_NAME,  BILL_DATE HAVING EXTRACT(YEAR FROM BILL_DATE) = 2018;
SELECT ITEM_NAME FROM ITEM,  SALE WHERE SALE.ITEM_ID = ITEM.ITEM_ID AND SALE.CUST_ID   = 5;
SELECT ITEM_NAME,S.BILL_DATE FROM ITEM I,SALE S WHERE I.ITEM_ID=S.ITEM_ID AND S.BILL_DATE=CURDATE();
SELECT ITEM_NAME,QTY_SOLD,   PRICE,(QTY_SOLD * PRICE) AS TOTAL_AMOUNT  FROM CUSTOMER,   ITEM,   SALE
 WHERE CUST_NAME  = 'Rekha' AND SALE.ITEM_ID = ITEM.ITEM_ID AND SALE.CUST_ID = CUSTOMER.CUST_ID;